<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      http-equiv="Content-Security-Policy"
      content="script-src 'strict-dynamic' 'sha384-qBtQiF5b11nXN2GBjcwKODXDwZG8nz2EFRveN8oIWHtzCTFcdii2adsDf0PXYjX2' 'self' https://esm.sh data:; style-src 'self' 'unsafe-inline' https://rsms.me/; font-src 'self' https://rsms.me/; default-src 'self'; connect-src https://esm.sh https://rsms.me; object-src 'none'; base-uri 'none';"
    />
    <title>ES module in browser</title>
    <link rel="preconnect" href="https://esm.sh/" />
    <link rel="preconnect" href="https://rsms.me/" />
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css" />
    <script>
      const importmap = document.createElement('script')
      importmap.type = 'importmap'
      importmap.textContent = JSON.stringify({
        imports: Object.fromEntries(
          [
            'react',
            'react/jsx-runtime',
            'react-dom/client',
            'styled-components',
          ].map((pkg) => [pkg, `https://cdn.jsdelivr.net/npm/${pkg}/+esm`]),
        ),
      })
      const main = document.createElement('script')
      main.type = 'module'
      main.src = './src/main.js'
      main.defer = true
      document.currentScript.after(importmap)
      document.currentScript.after(main)
    </script>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
